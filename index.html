
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nova Iris Bazaar</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
    header { background-color: #6200ea; color: white; padding: 1rem; text-align: center; }
    .container { max-width: 800px; margin: 2rem auto; background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h2 { color: #333; }
    form { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 2rem; }
    input, select, textarea { padding: 0.5rem; border-radius: 4px; border: 1px solid #ccc; }
    button { padding: 0.7rem; background-color: #6200ea; color: white; border: none; border-radius: 4px; cursor: pointer; }
    .listing { border-bottom: 1px solid #ddd; padding: 1rem 0; }
    .listing img { max-width: 100px; display: block; margin-bottom: 0.5rem; }
    .search-filter { display: flex; gap: 1rem; margin-bottom: 1rem; }
  </style>
</head>
<body>
  <header>
    <h1>Nova Iris Bazaar</h1>
    <p>Buy & Sell within the Nova Iris Community</p>
  </header>

  <div class="container">
    <h2>Post an Item</h2>
    <form id="postForm">
      <input type="text" placeholder="Item Title" required>
      <textarea placeholder="Description" required></textarea>
      <input type="number" placeholder="Price" required>
      <select required>
        <option value="">Select Category</option>
        <option>Electronics</option>
        <option>Furniture</option>
        <option>Books</option>
        <option>Kids Item</option>
        <option>Bikes</option>
        <option>Cars</option>
      </select>
      <input type="file" accept="image/*" required>
      <button type="submit">Post Item</button>
    </form>

    <h2>Listings</h2>
    <div class="search-filter">
      <input type="text" id="searchInput" placeholder="Search items...">
      <select id="categoryFilter">
        <option value="">All Categories</option>
        <option>Electronics</option>
        <option>Furniture</option>
        <option>Books</option>
        <option>Kids Item</option>
        <option>Bikes</option>
        <option>Cars</option>
      </select>
    </div>
    <div id="listings"></div>
  </div>

  <script>
    const form = document.getElementById('postForm');
    const listings = document.getElementById('listings');
    const searchInput = document.getElementById('searchInput');
    const categoryFilter = document.getElementById('categoryFilter');
    const items = [];

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const title = form[0].value;
      const desc = form[1].value;
      const price = form[2].value;
      const category = form[3].value;
      const file = form[4].files[0];

      const reader = new FileReader();
      reader.onload = function() {
        const imgSrc = reader.result;
        const item = { title, desc, price, category, imgSrc };
        items.unshift(item);
        renderListings();
      };
      reader.readAsDataURL(file);

      form.reset();
    });

    function renderListings() {
      listings.innerHTML = '';
      const query = searchInput.value.toLowerCase();
      const selectedCategory = categoryFilter.value;
      const filteredItems = items.filter(item => {
        return (
          (item.title.toLowerCase().includes(query) || item.desc.toLowerCase().includes(query)) &&
          (selectedCategory === '' || item.category === selectedCategory)
        );
      });
      filteredItems.forEach(item => {
        const listing = document.createElement('div');
        listing.className = 'listing';
        listing.innerHTML = `<img src="${item.imgSrc}" alt="${item.title}"><strong>${item.title}</strong><br>${item.desc}<br><strong>Rs. ${item.price}</strong><br><em>${item.category}</em>`;
        listings.appendChild(listing);
      });
    }

    searchInput.addEventListener('input', renderListings);
    categoryFilter.addEventListener('change', renderListings);
  </script>
</body>
</html>
